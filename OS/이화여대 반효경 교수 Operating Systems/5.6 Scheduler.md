## 5.6 Scheduler
**Scheduler는 Code이다.** <br>
어떤 프로세스에게 자원을 할당할지 결정하는 OS Kernel의 코드를 지칭한다! <br>
크게 Long Term Scheduler, Short Term Scheduler으로 나뉘고, 최근에는 장기 스케줄러가 거의 쓰이지 않고, Medium term scheduler가 쓰인다고 한다. <br>
기본적으로 장기 스케줄러는 막 만들어진 프로세스의 준비 큐 삽입 여부를 결정한다.

### 6.1 단기 스케줄러
단기 스케줄러야 말로 중요한데, <br>
**단기 스케줄러는 Ready State의 Process들 중에서 어떤 프로세스를 다음 번에 Running State로 만들것인지 결정한다.** 다시 말하면, 준비 큐에 있는 프로세스들 중 **누가 먼저 CPU를 할당 받을지 결정하는 중요한 역할!** <br>
그래서 **단기 스케줄러는 CPU 스케줄러라고도 부른다.** <br>
시분할 시스템에서 타이머 인터럽트가 발생하면, 이 단기 스케줄러가 호출되는 것이다. <br>
단기 스케줄러는 호출이 잦을 수 밖에 없다. 밀리초 정도의 시간 단위로 매우 빈번한 호출이 있으므로, **수행 속도가 충분히 빨라야 한다.** 그냥저냥 수십초나 분 단위로 호출되는 장기 스케줄러와는 조금 느려도 된다. <br>

### 6.2 장기 스케줄러
장기 스케줄러는 막 만들어진 프로세스가 준비 큐에 삽입될건지 결정하는데, 메모리에 동시에 올라가 있는 프로세스의 수를 조절한다. <br>
시작 상태의 프로세스에게 메모리가 할당될지를 결정하는데, 풀어서 말 하자면 그냥 **새로 킨 프로그램이 돌아갈지 말지를 결정하는 것이다.** 이미 많은 프로세스가 진행 중이여서, **각 프로세스가 받게 되는 메모리가 지나치게 적은 경우 시스템 효율이 떨어지게 된다면, 이를 조절하는 역할을 한다.** <Br>

자원이 풍부하게 된 현대 시분할 시스템 OS에서는 잘 사용되지 않는다고 한다. **현대 시스템에서는 장기 스케줄러 없이 곧바로 프로세스에 메모리가 할당되고 준비 큐에 올라가게 된다.**

### 중기 스케줄러..
대신에 현대의 시분할 시스템 OS에서는 중기 스케줄러를 두는 경우가 많다고 한다. <br>
중기 스케줄러 또한 많은 프로세스에 메모리가 할당된 상태를 해소하기 위해 추가된 스케줄러이다. <br>
메모리에 당장 CPU 수행에 필요한 프로세스의 주소 공간조차도 올려 놓기 힘들 정도로 너무 많은 프로세스가 올라가 있는 경우, **디스크 입출력이 수시로 발생해 시스템 성능이 저하될 수 있다..** <br> 
이런 상황에서 중기 스케줄러는 메모리에 올라와 있는 프로세스들 중 Blocked State인 프로세스들을 우선적으로 **Swap Out한다.** 스왑 아웃은 메모리에 올라와 있는 프로세스의 내용을 Disk의 스왑 영역에 저장하는 행위이다. 어차피 Blocked State인 프로세스들은 당장 CPU를 획득할 가능성이 없으므로 메모리에 있어봐야 큰 의미가 없고, 중기 스케줄러의 0순위 타겟인 것이 자연스럽다. <br> 

### Suspended State - stopped state
중기 스케줄러로 인해 추가된 State이다. <br>
외부에서 재개되지 않는 이상 다시 활성화될 수 없는 스왑 아웃 상태이다. <Br>
Ready State에서 왔다면, Suspended Ready State, Blocked State에서 왔다면, Suspended Blocked State이다. 

## Reference
- 운영체제와 정보기술의 원리 <반효경 저>  
