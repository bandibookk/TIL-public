# 2. OSI Model and TCP/IP Protocol Suite

인터넷을 구성함에 있어서 우리가 당면한 문제점은 인터넷의 구성 요소가 너무 다양하고, 복잡하다는 것이였다. 복잡한 인터넷을 보다 쉽게 설계하고, 구축하고, 운영 이해하기 위해서 Divied & Conquer으로 해결하기 위해 Layering - 프로토콜 계층화가 도입되었다.    
<br/>

## 2.1 계층화의 이유
명시적인 구조가 복잡한 시스템을 구성하는 각 부분의 역할과 상호관계의 이해를 가능케 해주며, 모듈화로 관리와 성능 개선을 쉽게 해줍니다.   
모듈화로 인해 문제가 발생 했을 시 해당 부분만 교체해주는 방식의 해결이 가능해졌습니다. 이를테면, 암호화/복호화 키가 분실 되었거나 보안이 뚫리는 등의 상황에서, 모듈화가 안 되어 있으면 전체 시스템을 싹 교체해야 할 수도 있습니다. 하지만 모듈화가 잘 되어 있으면, 암호화/복호화 키만 교체하면 되겠지요?    
- 단점이 아주 없는건 아닙니다. 계층화는 자연스럽게 비용을 증대 시키고 효율성을 떨어트립니다.. 중요한 문제는 아닌 것 같습니다.    
<br/>


## 2.2 OSI 7 Layers model
맨 아래서 부터 **Physical, Data link, Network, Transport**, Session, Presentation, **Application**의 7 모델이 있습니다.

더 중요한 5개를 추린 **인터넷 프로토콜 스택 (TCP/IP protocol suite) 5계층 모델**에 대한 요약을 아래 정리해두겠습니다..
<br/>

**1. Physical Layer**: 한 노드에서 다음 노드로 1:1 데이터 전송하는 역할을 합니다. bit가 직접적으로 이동하고, **node to node 전송**이 이루어집니다.<br/>

**2. Data Link Layer**: 실제적인 전달이 이루어 지는 곳입니다. **다수 인원간의 통신을 지원하기 위해 생겼습니다. (여러 컴퓨터들을 엮음)** 이 때문에 반드시 **송수신자 정보를 담고 있어야 합니다.** bit의 집합인 **프레임**에 송수산자 정보를 담아 하나의 전송 단위로 묶어 전송합니다. **한 노드에서 다음 노드로 프레임을 이동시키는 기능** (이는 패킷, 세그먼트라고도 불리움.)<br/>

**3. Network Layer**: **특정 패킷이 어디로, 누구에게 전송되어야 하는지 알려 주는 역할**을 합니다. 물리 네트워크에 의해 패킷을 처리하는 과정을 감독합니다. **hop to hop 전달 기능 수행.** **서로 다른 프로토콜을 엮어 하나의 네트워크 처럼** 만든 것을 "인터넷"이라고 부릅니다. **이를 위해 만들어진 Layer가 Network Layer입니다.** -> **Network 계층은 발신지 호스트에서 목적지 호스트까지 패킷을 전달하는 기능을 수행합니다.**<br/>

**4. Transport Layer**: 하나의 프로세스에서 다른 프로세스로의 데이터 전달 기능 프로세스를 구분하기 위한 **Port Number**를 지정 할 수 있습니다. **process to process.** 세션 데이터와 통신 할 때 데이터를 분할하고 조립하는 등의 기능을 수행하여 프로그래밍에 도움을 줍니다. **흐름 제어와 오류 제어가 이루어집니다.** 이를 통해 IP 프로토콜을 보완해줍니다. (TCP)<br/>

**5. Application Layer**: 응용 프로그램마다 필요에 따라 여러 기능들이 존재합니다. 다양한 운영 계층의 프로토콜들이 존재하고, 사용자와 network 상의 인터페이스 역할을 합니다.<br/>

각 계층들을 거치며 원래 캡슐화된 전송 단위에 계속헤서 헤더나 테일을 붙여 주는 식입니다. 해석 할 때는 반대로 뗴어 나갑니다.

가장 상위에 Application단이 있고 가장 아래 두 레이어인 Physical Layer와 Data Link Layer는 하드웨어고, 그 나머지는 보통 OS단에서 이루어집니다.

**이렇게 여러 모듈들의 도움으로 인터넷 접속이라는 하나의 목적을 달성하게 됩니다.**

## 2.3 Network 계층의 hop to hop 전달 기능 ⭐
컴퓨터에서 컴퓨터, 컴퓨터에서 라우터로의 전달은 Data Link Layer에서 처리가 가능하다. 그러나 아주 먼 홉 너머의 시스템이나 컴퓨터와의 통신에는 Network Layer가 길 안내를 해주게 됩니다. **실제 패킷 전달은 Data Link Layer가 하지만 라우터가 경로 찾기 문제를 수행하는 곳은 Network Layer입니다.** 한 줄 요약하자면, **Network 계층은 발신지 호스트에서 목적지 호스트까지 패킷을 전달하는 기능을 수행합니다.**

<br/>

# 2.4 ⭐⭐ 주소 지정 ⭐⭐
매우 중요. 인터넷 프로토콜 스택에서는 4개의 서로 다른 계층의 주소가 사용됩니다.
**1. Physical Address**: 노드간의 실제적인 데이터 전송을 위해 필요한 주소입니다. (Physical, Data Link Layer에 속함)
**2. Logical Address**: 주소체계가 서로 다른 네트워크를 통합하기 위한 **스케일러블한 통합 주소 체계**입니다. 상대방을 구분하기 위해, 그리고 **다음 hop을 파악하기 위해 존재합니다. (Network Layer에 속함)**
**3. Port Address** - process를 구분하기 위해 존재합니다. 포트넘버입니다. (Transport Layer에 속함)
