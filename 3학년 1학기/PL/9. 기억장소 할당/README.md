# 9. 기억장소 할당
**1. 정적 및 동적 기억 장소 할당**
**2. 단위 프로그램**
**3. 정적 기억 장소 할당**
**4. 스택 - 동적**
**5. 힙 - 동적**

# 용어 정리
||크기 고정|할당|
|:----:|:----:|:----:|
|**정적 변수**|정적바인딩(번역시간)|정적 바인딩|
|**준정적 변수**|정적 바인딩|동적 바인딩|
|**준동적 변수**|동적 바인딩(활성화 시점 바인딩)|동적 할당(스택)|
|**동적 변수**|동적 바인딩|동적 할당(힙)|


||크기 고정|할당 시간|
|:----:|:----:|:----:|
|**정적 변수**|정적|정적|
|**준정적 변수**|정적|동적|
|**준동적 변수**|동적|동적 - 스택|
|**동적 변수**|동적|동적 - 힙|


# 9.1 기억장소 할당
## 정적 기억장소 할당 1
- **번역 시간 할당 -> 정적 바인딩 시간과 같네**
- 기억장소의 **크기, 위치가 정적으로 고정**
- **크기가 고정되어 배열 접근이 효율적임**
- 기본적으로 부프로그램 **재귀 불가**
- Fortran, Cobol, Basic 등에서 사용 <br>
 
## 동적 기억장소 할당 1
- **실행 시간 할당 -> 동적 바인딩 시간과 같음**
- 변수의 자료형이나 크기 제한이 완화됨
- 인터프리터 언어에서 많이 쓴다
- Algol 형태 언어에서 재귀 허용

## 둘 다 쓰는 멋쟁이들!
### 1. ALGOL
- 정적 할당: own 변수
- Stack 동적 할당: own 이외의 변수들 -> 변수 크기가 실행시 할당되고 고정된다.
- Heap 동적할당: X

### 2. PL/1
- 정적 할당: STATIC (수명 주 프로시저 진입 ~ 탈출)
- Stack 동적 할당: AUTOMATIC (수명 블록 진입 ~ 탈출)
- Heap 동적 할당: CONTROLLED, BASED (수명 allocate ~ free)

### 3. C, C++, JAVA
- 정적 할당: 보통 static만
- Stack 동적 할당: auto - default임
- Heap 동적 할당: C는 malloc ~ free, C++은 new ~ delete, JAVA는 new


## 수명과 기억장소 할당 정리
|기억장소 할당|정적 할당|Stack 기반(동적)|Heap 기반(동적)|
|:----:|:----:|:----:|:----:|
|Fortran|변수 수명 = 프로그램 수명|X|X|
|ALGOL 60|own 변수|X|이외의 모든 변수 - 재귀 허용|
|PL/1|STATIC|AUTOMATIC|CONTROLLED, BASED|
|C, C++, JAVA|static|auto(default)|malloc-free, new-delete, new|

# 9.3 정적 기억장소 할당(찐)
1. Fortran, Cobol, Basic등 Alogl 60 이전 언어들
2. 하나의 주 프로그램과 여러 부 프로그램들로 이루어져 있고, **각 단위 프로그램의 코드부만 고정 되어있는 것이 아니라, 활성 레코드 부분.. 즉, 모든 변수들의 byte합도 다 정해져 있다.**
3. 이 활성 레코드는 실행 전에 할당해서 실행 종료시까지 유지되는데 이게 정말 큰 메모리 낭비가 된다.

